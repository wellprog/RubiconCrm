
Vtiger_List_Js("Vtiger_ListPreview_Js",{},{frameProgress:false,updatePreview:function(a){var c=$("#listPreviewframe");this.frameProgress=$.progressIndicator({position:"html",message:app.vtranslate("JS_FRAME_IN_PROGRESS"),blockInfo:{enabled:true}});var b="";if(app.getMainParams("defaultDetailViewName")){b=b+"&mode=showDetailViewByMode&requestMode="+app.getMainParams("defaultDetailViewName")}c.attr("src",a.replace("view=Detail","view=DetailPreview")+b)},registerPreviewEvent:function(){var b=this;var a=$("#listPreview,#recordsListPreview");a.height($(".mainBody").height()-16);$("#listPreviewframe").load(function(){b.frameProgress.progressIndicator({mode:"hide"});a.height($(this).contents().find(".bodyContents").height()+2)});$(".listViewEntriesTable .listViewEntries").first().trigger("click")},postLoadListViewRecordsEvents:function(a){this._super(a);this.registerPreviewEvent()},registerRowClickEvent:function(){var b=this;var a=this.getListViewContentContainer();a.on("click",".listViewEntries",function(d){if($(d.target).closest("div").hasClass("actions")){return}if($(d.target).is("button")||$(d.target).parent().is("button")){return}if($(d.target).closest("a").hasClass("noLinkBtn")){return}if($(d.target,$(d.currentTarget)).is("td:first-child")){return}if($(d.target).is('input[type="checkbox"]')){return}if($.contains($(d.currentTarget).find("td:last-child").get(0),d.target)){return}if($.contains($(d.currentTarget).find("td:first-child").get(0),d.target)){return}var c=$(d.currentTarget);var f=c.data("recordurl");if(typeof f=="undefined"){return}d.preventDefault();$(".listViewEntriesTable .listViewEntries").removeClass("active");$(this).addClass("active");b.updatePreview(f)})},registerEvents:function(){this._super();this.registerPreviewEvent()},});